<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PorcDocs: G:/Workspace/Porcupine/ProjectPorcupine/Assets/Scripts/UI/DialogBox/Trade/DialogBoxTrade.cs Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PorcDocs
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('_dialog_box_trade_8cs_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">DialogBoxTrade.cs</div>  </div>
</div><!--header-->
<div class="contents">
<a href="_dialog_box_trade_8cs.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#region License</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">// ====================================================</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Project Porcupine Copyright(C) 2016 Team Porcupine</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// This program comes with ABSOLUTELY NO WARRANTY; This is free software, </span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// and you are welcome to redistribute it under certain conditions; See </span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">// file LICENSE, which is part of this source code package, for details.</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">// ====================================================</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#endregion</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="keyword">using</span> <a class="code" href="_simple_priority_queue_8cs.html#a81a223a02c34d82b47199f08308847f2">System</a>;</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_system.html">System</a>.Collections.Generic;</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_system.html">System</a>.Linq;</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_unity_engine.html">UnityEngine</a>;</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_unity_engine.html">UnityEngine</a>.UI;</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;</div><div class="line"><a name="l00016"></a><span class="lineno"><a class="line" href="class_dialog_box_trade.html">   16</a></span>&#160;<span class="keyword">public</span> <span class="keyword">class </span><a class="code" href="class_dialog_box_trade.html">DialogBoxTrade</a> : <a class="code" href="class_dialog_box.html">DialogBox</a></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;{</div><div class="line"><a name="l00018"></a><span class="lineno"><a class="line" href="class_dialog_box_trade.html#a39f78d608909c5f4d0e1ee8e43348e07">   18</a></span>&#160;    <span class="keyword">public</span> Text <a class="code" href="class_dialog_box_trade.html#a39f78d608909c5f4d0e1ee8e43348e07">TraderNameText</a>;</div><div class="line"><a name="l00019"></a><span class="lineno"><a class="line" href="class_dialog_box_trade.html#aac85a37a74b69a78f44d7f06ba10108f">   19</a></span>&#160;    <span class="keyword">public</span> Text <a class="code" href="class_dialog_box_trade.html#aac85a37a74b69a78f44d7f06ba10108f">PlayerCurrencyBalanceText</a>;</div><div class="line"><a name="l00020"></a><span class="lineno"><a class="line" href="class_dialog_box_trade.html#a44857603ccdc822f48023d32d95c667c">   20</a></span>&#160;    <span class="keyword">public</span> Text <a class="code" href="class_dialog_box_trade.html#a44857603ccdc822f48023d32d95c667c">TraderCurrencyBalanceText</a>;</div><div class="line"><a name="l00021"></a><span class="lineno"><a class="line" href="class_dialog_box_trade.html#a8c5b28e84e8b07b0f29af9e3f93a1484">   21</a></span>&#160;    <span class="keyword">public</span> Text <a class="code" href="class_dialog_box_trade.html#a8c5b28e84e8b07b0f29af9e3f93a1484">TradeCurrencyBalanceText</a>;</div><div class="line"><a name="l00022"></a><span class="lineno"><a class="line" href="class_dialog_box_trade.html#a3c6763a9d1cb2b5a56faea2ba5c95c82">   22</a></span>&#160;    <span class="keyword">public</span> Transform <a class="code" href="class_dialog_box_trade.html#a3c6763a9d1cb2b5a56faea2ba5c95c82">TradeItemListPanel</a>;</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;</div><div class="line"><a name="l00024"></a><span class="lineno"><a class="line" href="class_dialog_box_trade.html#a5f2791c62e9b64d3f94362d9910e7d38">   24</a></span>&#160;    <span class="keyword">public</span> GameObject <a class="code" href="class_dialog_box_trade.html#a5f2791c62e9b64d3f94362d9910e7d38">TradeItemPrefab</a>;</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;</div><div class="line"><a name="l00026"></a><span class="lineno"><a class="line" href="class_dialog_box_trade.html#ad066dd213fd5d115915568a7b460144e">   26</a></span>&#160;    <span class="keyword">public</span> Action <a class="code" href="class_dialog_box_trade.html#ad066dd213fd5d115915568a7b460144e">TradeCompleted</a>;</div><div class="line"><a name="l00027"></a><span class="lineno"><a class="line" href="class_dialog_box_trade.html#a6b806699237ac3b11e71bb1ef1227a18">   27</a></span>&#160;    <span class="keyword">public</span> Action <a class="code" href="class_dialog_box_trade.html#a6b806699237ac3b11e71bb1ef1227a18">TradeCancelled</a>;</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;</div><div class="line"><a name="l00029"></a><span class="lineno"><a class="line" href="class_dialog_box_trade.html#a5afdc78665cfba7a63f47fd99573fc8b">   29</a></span>&#160;    <span class="keyword">public</span> Button <a class="code" href="class_dialog_box_trade.html#a5afdc78665cfba7a63f47fd99573fc8b">AcceptButton</a>;</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    <span class="keyword">private</span> <a class="code" href="class_trade.html">Trade</a> trade;</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div><div class="line"><a name="l00033"></a><span class="lineno"><a class="line" href="class_dialog_box_trade.html#a12e9eeb81e93b96ccbfa219fb1f8d05a">   33</a></span>&#160;    <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="class_dialog_box_trade.html#a12e9eeb81e93b96ccbfa219fb1f8d05a">SetupTrade</a>(<a class="code" href="class_trade.html">Trade</a> trade)</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    {</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;        this.trade = trade;</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;        ClearInterface();</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;        BuildInterface();</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    }</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div><div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="class_dialog_box_trade.html#a9ce90e25a84129f12e38ad55990638ed">   41</a></span>&#160;    <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="class_dialog_box_trade.html#a9ce90e25a84129f12e38ad55990638ed">DoTradingTestWithMockTraders</a>()</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    {</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;        <a class="code" href="class_currency.html">Currency</a> currency = <a class="code" href="class_prototype_manager.html">PrototypeManager</a>.<a class="code" href="class_prototype_manager.html#abb50bcd27c70b54bbbc1a7f41240a9c4">Currency</a>.Get(<span class="stringliteral">&quot;Quill Corp Bucks&quot;</span>);</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;        <a class="code" href="class_currency.html">Currency</a> playerCurrency = currency.<a class="code" href="class_currency.html#addd39e17adc2603bf12c600e23db9884">Clone</a>();</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;        playerCurrency.<a class="code" href="class_currency.html#a6fe7cdb92b7359c5cf462d0691d69e2c">Balance</a> = 1000f;</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;        <a class="code" href="class_trader.html">Trader</a> mockPlayer = <span class="keyword">new</span> <a class="code" href="class_trader.html">Trader</a></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;        {</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;            <a class="code" href="class_currency.html">Currency</a> = playerCurrency,</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;            Name = <span class="stringliteral">&quot;Player&quot;</span>,</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;            SaleMarginMultiplier = 1f,</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;            Stock = <span class="keyword">new</span> List&lt;Inventory&gt;</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;            {</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;                <span class="keyword">new</span> <a class="code" href="class_inventory.html">Inventory</a>(<span class="stringliteral">&quot;Steel Plate&quot;</span>, 10) { BasePrice = 3f },</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;                <span class="keyword">new</span> <a class="code" href="class_inventory.html">Inventory</a>(<span class="stringliteral">&quot;Raw Iron&quot;</span>, 90) { BasePrice = 0.2f },</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;            }</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        };</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;        <a class="code" href="class_currency.html">Currency</a> traderCurrency = currency.<a class="code" href="class_currency.html#addd39e17adc2603bf12c600e23db9884">Clone</a>();</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        traderCurrency.<a class="code" href="class_currency.html#a6fe7cdb92b7359c5cf462d0691d69e2c">Balance</a> = 1000f;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        <a class="code" href="class_trader.html">Trader</a> mockTrader = <span class="keyword">new</span> <a class="code" href="class_trader.html">Trader</a></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        {</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;            <a class="code" href="class_currency.html">Currency</a> = traderCurrency,</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;            Name = <span class="stringliteral">&quot;Trader&quot;</span>,</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;            SaleMarginMultiplier = 1.23f,</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;            Stock = <span class="keyword">new</span> List&lt;Inventory&gt;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;            {</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;                <span class="keyword">new</span> <a class="code" href="class_inventory.html">Inventory</a>(<span class="stringliteral">&quot;Steel Plate&quot;</span>, 40) { BasePrice = 3f },</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;                <span class="keyword">new</span> <a class="code" href="class_inventory.html">Inventory</a>(<span class="stringliteral">&quot;Steel Plate&quot;</span>, 40) { BasePrice = 3f },</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;                <span class="keyword">new</span> <a class="code" href="class_inventory.html">Inventory</a>(<span class="stringliteral">&quot;Oxygen Bottle&quot;</span>, 10) { BasePrice = 50f },</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;            }</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        };</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        <a class="code" href="class_dialog_box_trade.html#a12e9eeb81e93b96ccbfa219fb1f8d05a">SetupTrade</a>(<span class="keyword">new</span> <a class="code" href="class_trade.html">Trade</a>(mockPlayer, mockTrader));</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    }</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;</div><div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="class_dialog_box_trade.html#a87df18554b7947420277cd1e9f0ee93b">   78</a></span>&#160;    <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="class_dialog_box_trade.html#a87df18554b7947420277cd1e9f0ee93b">CancelTrade</a>()</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    {</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;        trade = null;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;        ClearInterface();</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        <a class="code" href="class_dialog_box.html#ad4f408b78d5e109525c229ad34f5a447">CloseDialog</a>();</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        <span class="keywordflow">if</span> (TradeCompleted != null)</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;        {</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;            <a class="code" href="class_dialog_box_trade.html#a6b806699237ac3b11e71bb1ef1227a18">TradeCancelled</a>();</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        }</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    }</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;</div><div class="line"><a name="l00089"></a><span class="lineno"><a class="line" href="class_dialog_box_trade.html#a4564302a9198b93145958cd75a22339a">   89</a></span>&#160;    <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="class_dialog_box_trade.html#a4564302a9198b93145958cd75a22339a">AcceptTrade</a>()</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    {</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;        <span class="keywordflow">if</span> (trade.<a class="code" href="class_trade.html#aecd1f04d634f477fa7325a618d33a066">IsValid</a>())</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;        {</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;            trade = null;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;            ClearInterface();</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;            <a class="code" href="class_dialog_box.html#ad4f408b78d5e109525c229ad34f5a447">CloseDialog</a>();</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;            <span class="keywordflow">if</span> (TradeCompleted != null)</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;            {</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;                <a class="code" href="class_dialog_box_trade.html#ad066dd213fd5d115915568a7b460144e">TradeCompleted</a>();</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;            }</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        }</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    }</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="keyword">private</span> <span class="keywordtype">void</span> ClearInterface()</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    {</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        List&lt;Transform&gt; childrens = TradeItemListPanel.Cast&lt;Transform&gt;().ToList();</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        <span class="keywordflow">foreach</span> (Transform child <span class="keywordflow">in</span> childrens)</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        {</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;            Destroy(child.gameObject);</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        }</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    }</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <span class="keyword">private</span> <span class="keywordtype">void</span> BuildInterface()</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    {</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        TraderNameText.text = trade.<a class="code" href="class_trade.html#af15be18bc46b24eb2e8dd2b434f324ad">Trader</a>.<a class="code" href="class_trader.html#a2222005abbbaa8f451545be04ac073da">Name</a>;</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        BuildInterfaceHeader();</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        <span class="keywordflow">foreach</span> (<a class="code" href="class_trade_item.html">TradeItem</a> tradeItem <span class="keywordflow">in</span> trade.<a class="code" href="class_trade.html#acc717b21584feecc94ecec3193063978">TradeItems</a>)</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        {</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;            GameObject go = (GameObject)Instantiate(Resources.Load(<span class="stringliteral">&quot;UI/Components/TradeItemPrefab&quot;</span>), <a class="code" href="class_dialog_box_trade.html#a3c6763a9d1cb2b5a56faea2ba5c95c82">TradeItemListPanel</a>);</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;            <a class="code" href="class_dialog_box_trade_item.html">DialogBoxTradeItem</a> tradeItemBehaviour = go.GetComponent&lt;<a class="code" href="class_dialog_box_trade_item.html">DialogBoxTradeItem</a>&gt;();</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;            tradeItemBehaviour.<a class="code" href="class_dialog_box_trade_item.html#a2e95728cf97c625c7327d49ce609f66c">OnTradeAmountChangedEvent</a> += item =&gt; BuildInterfaceHeader();</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;            tradeItemBehaviour.<a class="code" href="class_dialog_box_trade_item.html#ad5b6c80cfc765c75c7c6061f2789a6e5">SetupTradeItem</a>(tradeItem);</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        }</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    }</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <span class="keyword">private</span> <span class="keywordtype">void</span> BuildInterfaceHeader()</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    {</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        <span class="keywordtype">float</span> tradeAmount = trade.<a class="code" href="class_trade.html#aaba340cfdb727fe90d16a43fb3ebe3ae">TradeCurrencyBalanceForPlayer</a>;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        PlayerCurrencyBalanceText.text = <span class="keywordtype">string</span>.Format(</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;            <span class="stringliteral">&quot;{0:N2} {1}&quot;</span>, </div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;            trade.<a class="code" href="class_trade.html#aa0a7026f96034e12f9e5f091fecc0f7a">Player</a>.<a class="code" href="class_trader.html#a9f4dec66f691ba5654ea352efa5af78b">Currency</a>.<a class="code" href="class_currency.html#a6fe7cdb92b7359c5cf462d0691d69e2c">Balance</a> + trade.<a class="code" href="class_trade.html#aaba340cfdb727fe90d16a43fb3ebe3ae">TradeCurrencyBalanceForPlayer</a>, </div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;            trade.<a class="code" href="class_trade.html#aa0a7026f96034e12f9e5f091fecc0f7a">Player</a>.<a class="code" href="class_trader.html#a9f4dec66f691ba5654ea352efa5af78b">Currency</a>.<a class="code" href="class_currency.html#aa2f1e1430344046b312382646060b317">ShortName</a>);</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        TraderCurrencyBalanceText.text = <span class="keywordtype">string</span>.Format(</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;            <span class="stringliteral">&quot;{0:N2} {1}&quot;</span>, </div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;            trade.<a class="code" href="class_trade.html#af15be18bc46b24eb2e8dd2b434f324ad">Trader</a>.<a class="code" href="class_trader.html#a9f4dec66f691ba5654ea352efa5af78b">Currency</a>.<a class="code" href="class_currency.html#a6fe7cdb92b7359c5cf462d0691d69e2c">Balance</a> - trade.<a class="code" href="class_trade.html#aaba340cfdb727fe90d16a43fb3ebe3ae">TradeCurrencyBalanceForPlayer</a>, </div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;            trade.<a class="code" href="class_trade.html#af15be18bc46b24eb2e8dd2b434f324ad">Trader</a>.<a class="code" href="class_trader.html#a9f4dec66f691ba5654ea352efa5af78b">Currency</a>.<a class="code" href="class_currency.html#aa2f1e1430344046b312382646060b317">ShortName</a>);</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        TradeCurrencyBalanceText.text = tradeAmount.ToString(<span class="stringliteral">&quot;N2&quot;</span>);</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;        AcceptButton.interactable = trade.<a class="code" href="class_trade.html#aecd1f04d634f477fa7325a618d33a066">IsValid</a>();</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    }</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;}</div><div class="ttc" id="class_currency_html"><div class="ttname"><a href="class_currency.html">Currency</a></div><div class="ttdef"><b>Definition:</b> <a href="_currency_8cs_source.html#l00011">Currency.cs:11</a></div></div>
<div class="ttc" id="class_trader_html_a2222005abbbaa8f451545be04ac073da"><div class="ttname"><a href="class_trader.html#a2222005abbbaa8f451545be04ac073da">Trader.Name</a></div><div class="ttdeci">string Name</div><div class="ttdef"><b>Definition:</b> <a href="_trader_8cs_source.html#l00014">Trader.cs:14</a></div></div>
<div class="ttc" id="class_dialog_box_html_ad4f408b78d5e109525c229ad34f5a447"><div class="ttname"><a href="class_dialog_box.html#ad4f408b78d5e109525c229ad34f5a447">DialogBox.CloseDialog</a></div><div class="ttdeci">virtual void CloseDialog()</div><div class="ttdef"><b>Definition:</b> <a href="_dialog_box_8cs_source.html#l00036">DialogBox.cs:36</a></div></div>
<div class="ttc" id="class_dialog_box_html"><div class="ttname"><a href="class_dialog_box.html">DialogBox</a></div><div class="ttdef"><b>Definition:</b> <a href="_dialog_box_8cs_source.html#l00013">DialogBox.cs:13</a></div></div>
<div class="ttc" id="class_dialog_box_trade_html_a39f78d608909c5f4d0e1ee8e43348e07"><div class="ttname"><a href="class_dialog_box_trade.html#a39f78d608909c5f4d0e1ee8e43348e07">DialogBoxTrade.TraderNameText</a></div><div class="ttdeci">Text TraderNameText</div><div class="ttdef"><b>Definition:</b> <a href="_dialog_box_trade_8cs_source.html#l00018">DialogBoxTrade.cs:18</a></div></div>
<div class="ttc" id="class_dialog_box_trade_html_a6b806699237ac3b11e71bb1ef1227a18"><div class="ttname"><a href="class_dialog_box_trade.html#a6b806699237ac3b11e71bb1ef1227a18">DialogBoxTrade.TradeCancelled</a></div><div class="ttdeci">Action TradeCancelled</div><div class="ttdef"><b>Definition:</b> <a href="_dialog_box_trade_8cs_source.html#l00027">DialogBoxTrade.cs:27</a></div></div>
<div class="ttc" id="namespace_system_html"><div class="ttname"><a href="namespace_system.html">System</a></div></div>
<div class="ttc" id="class_dialog_box_trade_html_a3c6763a9d1cb2b5a56faea2ba5c95c82"><div class="ttname"><a href="class_dialog_box_trade.html#a3c6763a9d1cb2b5a56faea2ba5c95c82">DialogBoxTrade.TradeItemListPanel</a></div><div class="ttdeci">Transform TradeItemListPanel</div><div class="ttdef"><b>Definition:</b> <a href="_dialog_box_trade_8cs_source.html#l00022">DialogBoxTrade.cs:22</a></div></div>
<div class="ttc" id="class_prototype_manager_html_abb50bcd27c70b54bbbc1a7f41240a9c4"><div class="ttname"><a href="class_prototype_manager.html#abb50bcd27c70b54bbbc1a7f41240a9c4">PrototypeManager.Currency</a></div><div class="ttdeci">static PrototypeMap&lt; Currency &gt; Currency</div><div class="ttdoc">Gets the currency prototype map. </div><div class="ttdef"><b>Definition:</b> <a href="_prototype_manager_8cs_source.html#l00089">PrototypeManager.cs:89</a></div></div>
<div class="ttc" id="class_dialog_box_trade_item_html_ad5b6c80cfc765c75c7c6061f2789a6e5"><div class="ttname"><a href="class_dialog_box_trade_item.html#ad5b6c80cfc765c75c7c6061f2789a6e5">DialogBoxTradeItem.SetupTradeItem</a></div><div class="ttdeci">void SetupTradeItem(TradeItem item)</div><div class="ttdef"><b>Definition:</b> <a href="_dialog_box_trade_item_8cs_source.html#l00026">DialogBoxTradeItem.cs:26</a></div></div>
<div class="ttc" id="class_trade_html_acc717b21584feecc94ecec3193063978"><div class="ttname"><a href="class_trade.html#acc717b21584feecc94ecec3193063978">Trade.TradeItems</a></div><div class="ttdeci">List&lt; TradeItem &gt; TradeItems</div><div class="ttdef"><b>Definition:</b> <a href="_trade_8cs_source.html#l00014">Trade.cs:14</a></div></div>
<div class="ttc" id="class_dialog_box_trade_html_a12e9eeb81e93b96ccbfa219fb1f8d05a"><div class="ttname"><a href="class_dialog_box_trade.html#a12e9eeb81e93b96ccbfa219fb1f8d05a">DialogBoxTrade.SetupTrade</a></div><div class="ttdeci">void SetupTrade(Trade trade)</div><div class="ttdef"><b>Definition:</b> <a href="_dialog_box_trade_8cs_source.html#l00033">DialogBoxTrade.cs:33</a></div></div>
<div class="ttc" id="class_inventory_html"><div class="ttname"><a href="class_inventory.html">Inventory</a></div><div class="ttdef"><b>Definition:</b> <a href="_inventory_8cs_source.html#l00022">Inventory.cs:22</a></div></div>
<div class="ttc" id="class_trade_html_aaba340cfdb727fe90d16a43fb3ebe3ae"><div class="ttname"><a href="class_trade.html#aaba340cfdb727fe90d16a43fb3ebe3ae">Trade.TradeCurrencyBalanceForPlayer</a></div><div class="ttdeci">float TradeCurrencyBalanceForPlayer</div><div class="ttdoc">Current value of the deal for the player currency in the trade currency If negative, the player has to give money to complete the trade If positive, the player win money at the end of the trade. </div><div class="ttdef"><b>Definition:</b> <a href="_trade_8cs_source.html#l00050">Trade.cs:50</a></div></div>
<div class="ttc" id="class_trader_html"><div class="ttname"><a href="class_trader.html">Trader</a></div><div class="ttdef"><b>Definition:</b> <a href="_trader_8cs_source.html#l00012">Trader.cs:12</a></div></div>
<div class="ttc" id="_simple_priority_queue_8cs_html_a81a223a02c34d82b47199f08308847f2"><div class="ttname"><a href="_simple_priority_queue_8cs.html#a81a223a02c34d82b47199f08308847f2">System</a></div><div class="ttdeci">ï»¿using System</div><div class="ttdef"><b>Definition:</b> <a href="_simple_priority_queue_8cs_source.html#l00002">SimplePriorityQueue.cs:2</a></div></div>
<div class="ttc" id="class_trade_html_aa0a7026f96034e12f9e5f091fecc0f7a"><div class="ttname"><a href="class_trade.html#aa0a7026f96034e12f9e5f091fecc0f7a">Trade.Player</a></div><div class="ttdeci">Trader Player</div><div class="ttdef"><b>Definition:</b> <a href="_trade_8cs_source.html#l00016">Trade.cs:16</a></div></div>
<div class="ttc" id="class_dialog_box_trade_html_ad066dd213fd5d115915568a7b460144e"><div class="ttname"><a href="class_dialog_box_trade.html#ad066dd213fd5d115915568a7b460144e">DialogBoxTrade.TradeCompleted</a></div><div class="ttdeci">Action TradeCompleted</div><div class="ttdef"><b>Definition:</b> <a href="_dialog_box_trade_8cs_source.html#l00026">DialogBoxTrade.cs:26</a></div></div>
<div class="ttc" id="class_dialog_box_trade_html_a5f2791c62e9b64d3f94362d9910e7d38"><div class="ttname"><a href="class_dialog_box_trade.html#a5f2791c62e9b64d3f94362d9910e7d38">DialogBoxTrade.TradeItemPrefab</a></div><div class="ttdeci">GameObject TradeItemPrefab</div><div class="ttdef"><b>Definition:</b> <a href="_dialog_box_trade_8cs_source.html#l00024">DialogBoxTrade.cs:24</a></div></div>
<div class="ttc" id="class_trade_html_af15be18bc46b24eb2e8dd2b434f324ad"><div class="ttname"><a href="class_trade.html#af15be18bc46b24eb2e8dd2b434f324ad">Trade.Trader</a></div><div class="ttdeci">Trader Trader</div><div class="ttdef"><b>Definition:</b> <a href="_trade_8cs_source.html#l00017">Trade.cs:17</a></div></div>
<div class="ttc" id="class_dialog_box_trade_html_a5afdc78665cfba7a63f47fd99573fc8b"><div class="ttname"><a href="class_dialog_box_trade.html#a5afdc78665cfba7a63f47fd99573fc8b">DialogBoxTrade.AcceptButton</a></div><div class="ttdeci">Button AcceptButton</div><div class="ttdef"><b>Definition:</b> <a href="_dialog_box_trade_8cs_source.html#l00029">DialogBoxTrade.cs:29</a></div></div>
<div class="ttc" id="class_dialog_box_trade_item_html_a2e95728cf97c625c7327d49ce609f66c"><div class="ttname"><a href="class_dialog_box_trade_item.html#a2e95728cf97c625c7327d49ce609f66c">DialogBoxTradeItem.OnTradeAmountChangedEvent</a></div><div class="ttdeci">Action&lt; TradeItem &gt; OnTradeAmountChangedEvent</div><div class="ttdef"><b>Definition:</b> <a href="_dialog_box_trade_item_8cs_source.html#l00024">DialogBoxTradeItem.cs:24</a></div></div>
<div class="ttc" id="class_dialog_box_trade_html_a8c5b28e84e8b07b0f29af9e3f93a1484"><div class="ttname"><a href="class_dialog_box_trade.html#a8c5b28e84e8b07b0f29af9e3f93a1484">DialogBoxTrade.TradeCurrencyBalanceText</a></div><div class="ttdeci">Text TradeCurrencyBalanceText</div><div class="ttdef"><b>Definition:</b> <a href="_dialog_box_trade_8cs_source.html#l00021">DialogBoxTrade.cs:21</a></div></div>
<div class="ttc" id="class_trade_item_html"><div class="ttname"><a href="class_trade_item.html">TradeItem</a></div><div class="ttdef"><b>Definition:</b> <a href="_trade_item_8cs_source.html#l00011">TradeItem.cs:11</a></div></div>
<div class="ttc" id="class_dialog_box_trade_html_a87df18554b7947420277cd1e9f0ee93b"><div class="ttname"><a href="class_dialog_box_trade.html#a87df18554b7947420277cd1e9f0ee93b">DialogBoxTrade.CancelTrade</a></div><div class="ttdeci">void CancelTrade()</div><div class="ttdef"><b>Definition:</b> <a href="_dialog_box_trade_8cs_source.html#l00078">DialogBoxTrade.cs:78</a></div></div>
<div class="ttc" id="class_currency_html_aa2f1e1430344046b312382646060b317"><div class="ttname"><a href="class_currency.html#aa2f1e1430344046b312382646060b317">Currency.ShortName</a></div><div class="ttdeci">string ShortName</div><div class="ttdoc">Gets the currency short name. </div><div class="ttdef"><b>Definition:</b> <a href="_currency_8cs_source.html#l00044">Currency.cs:44</a></div></div>
<div class="ttc" id="class_dialog_box_trade_html"><div class="ttname"><a href="class_dialog_box_trade.html">DialogBoxTrade</a></div><div class="ttdef"><b>Definition:</b> <a href="_dialog_box_trade_8cs_source.html#l00016">DialogBoxTrade.cs:16</a></div></div>
<div class="ttc" id="class_trade_html"><div class="ttname"><a href="class_trade.html">Trade</a></div><div class="ttdef"><b>Definition:</b> <a href="_trade_8cs_source.html#l00012">Trade.cs:12</a></div></div>
<div class="ttc" id="class_dialog_box_trade_html_a4564302a9198b93145958cd75a22339a"><div class="ttname"><a href="class_dialog_box_trade.html#a4564302a9198b93145958cd75a22339a">DialogBoxTrade.AcceptTrade</a></div><div class="ttdeci">void AcceptTrade()</div><div class="ttdef"><b>Definition:</b> <a href="_dialog_box_trade_8cs_source.html#l00089">DialogBoxTrade.cs:89</a></div></div>
<div class="ttc" id="class_dialog_box_trade_html_aac85a37a74b69a78f44d7f06ba10108f"><div class="ttname"><a href="class_dialog_box_trade.html#aac85a37a74b69a78f44d7f06ba10108f">DialogBoxTrade.PlayerCurrencyBalanceText</a></div><div class="ttdeci">Text PlayerCurrencyBalanceText</div><div class="ttdef"><b>Definition:</b> <a href="_dialog_box_trade_8cs_source.html#l00019">DialogBoxTrade.cs:19</a></div></div>
<div class="ttc" id="class_prototype_manager_html"><div class="ttname"><a href="class_prototype_manager.html">PrototypeManager</a></div><div class="ttdoc">A class that holds the Prototype Maps of each entity that requires it. </div><div class="ttdef"><b>Definition:</b> <a href="_prototype_manager_8cs_source.html#l00017">PrototypeManager.cs:17</a></div></div>
<div class="ttc" id="class_dialog_box_trade_html_a44857603ccdc822f48023d32d95c667c"><div class="ttname"><a href="class_dialog_box_trade.html#a44857603ccdc822f48023d32d95c667c">DialogBoxTrade.TraderCurrencyBalanceText</a></div><div class="ttdeci">Text TraderCurrencyBalanceText</div><div class="ttdef"><b>Definition:</b> <a href="_dialog_box_trade_8cs_source.html#l00020">DialogBoxTrade.cs:20</a></div></div>
<div class="ttc" id="class_dialog_box_trade_html_a9ce90e25a84129f12e38ad55990638ed"><div class="ttname"><a href="class_dialog_box_trade.html#a9ce90e25a84129f12e38ad55990638ed">DialogBoxTrade.DoTradingTestWithMockTraders</a></div><div class="ttdeci">void DoTradingTestWithMockTraders()</div><div class="ttdef"><b>Definition:</b> <a href="_dialog_box_trade_8cs_source.html#l00041">DialogBoxTrade.cs:41</a></div></div>
<div class="ttc" id="class_trader_html_a9f4dec66f691ba5654ea352efa5af78b"><div class="ttname"><a href="class_trader.html#a9f4dec66f691ba5654ea352efa5af78b">Trader.Currency</a></div><div class="ttdeci">Currency Currency</div><div class="ttdef"><b>Definition:</b> <a href="_trader_8cs_source.html#l00016">Trader.cs:16</a></div></div>
<div class="ttc" id="class_dialog_box_trade_item_html"><div class="ttname"><a href="class_dialog_box_trade_item.html">DialogBoxTradeItem</a></div><div class="ttdef"><b>Definition:</b> <a href="_dialog_box_trade_item_8cs_source.html#l00013">DialogBoxTradeItem.cs:13</a></div></div>
<div class="ttc" id="class_trade_html_aecd1f04d634f477fa7325a618d33a066"><div class="ttname"><a href="class_trade.html#aecd1f04d634f477fa7325a618d33a066">Trade.IsValid</a></div><div class="ttdeci">bool IsValid()</div><div class="ttdoc">Check if both trader in the trade have enough currency to complete the deal. </div><div class="ttdef"><b>Definition:</b> <a href="_trade_8cs_source.html#l00061">Trade.cs:61</a></div></div>
<div class="ttc" id="class_currency_html_a6fe7cdb92b7359c5cf462d0691d69e2c"><div class="ttname"><a href="class_currency.html#a6fe7cdb92b7359c5cf462d0691d69e2c">Currency.Balance</a></div><div class="ttdeci">float Balance</div><div class="ttdef"><b>Definition:</b> <a href="_currency_8cs_source.html#l00013">Currency.cs:13</a></div></div>
<div class="ttc" id="namespace_unity_engine_html"><div class="ttname"><a href="namespace_unity_engine.html">UnityEngine</a></div></div>
<div class="ttc" id="class_currency_html_addd39e17adc2603bf12c600e23db9884"><div class="ttname"><a href="class_currency.html#addd39e17adc2603bf12c600e23db9884">Currency.Clone</a></div><div class="ttdeci">Currency Clone()</div><div class="ttdoc">Clone this instance. </div><div class="ttdef"><b>Definition:</b> <a href="_currency_8cs_source.html#l00058">Currency.cs:58</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_f243a7a7d497212ea32570f02ce73440.html">Workspace</a></li><li class="navelem"><a class="el" href="dir_92ac071e2590783cb7caca7d9b628033.html">Porcupine</a></li><li class="navelem"><a class="el" href="dir_7104a0e4e3bd57a4d9b588bf838dfe29.html">ProjectPorcupine</a></li><li class="navelem"><a class="el" href="dir_173c24a531980a642061a24f61ed097f.html">Assets</a></li><li class="navelem"><a class="el" href="dir_d1fe990f965bc777ac4b048ee0a5896b.html">Scripts</a></li><li class="navelem"><a class="el" href="dir_6495651016947383af535591d3a6988c.html">UI</a></li><li class="navelem"><a class="el" href="dir_cc483a3d8af44d6947266c647f72c6d5.html">DialogBox</a></li><li class="navelem"><a class="el" href="dir_728e59d6901b299f9c766d7cb20dd87b.html">Trade</a></li><li class="navelem"><a class="el" href="_dialog_box_trade_8cs.html">DialogBoxTrade.cs</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
